# 11-tls-secret.yaml
# TLS certificate and key for HTTPS
# This creates a self-signed certificate for demonstration
#
# IMPORTANT: This is a self-signed certificate for learning purposes only!
# In production, use real certificates from Let's Encrypt or a CA.
apiVersion: v1
kind: Secret
metadata:
  name: tls-secret
  labels:
    app: demo
type: kubernetes.io/tls
stringData:
  # Self-signed certificate (valid for 365 days)
  # Common Name: secure.local
  tls.crt: |
    -----BEGIN CERTIFICATE-----
    MIIDXTCCAkWgAwIBAgIJAKJ8JYvKh4GZMA0GCSqGSIb3DQEBCwUAMEUxCzAJBgNV
    BAYTAkFVMRMwEQYDVQQIDApTb21lLVN0YXRlMSEwHwYDVQQKDBhJbnRlcm5ldCBX
    aWRnaXRzIFB0eSBMdGQwHhcNMjMxMTE2MDAwMDAwWhcNMjQxMTE1MDAwMDAwWjBF
    MQswCQYDVQQGEwJBVTETMBEGA1UECAwKU29tZS1TdGF0ZTEhMB8GA1UECgwYSW50
    ZXJuZXQgV2lkZ2l0cyBQdHkgTHRkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIB
    CgKCAQEAuF7F4m4mZvHYvN7bCJD4yqMpYdJZkPqvHc9fhq8KTIBjQKJ4Y1vTZxIU
    7Ik0S6XKJYkYFp4qhJxQX4LwvJN2A5xKZMdQtqzj7XqPqvNGGJP4S7Y0K8NxQ5XE
    KgH7+YvJdQ4K8m9LjQ7qN4F6Jp8KY4qF8NxQJZMdQ7qvN4F6KpQ7YvJdQ4K8m9Lj
    Q7qN4F6Jp8KY4qF8NxQJZMdQ7qvN4F6KpQ7YvJdQ4K8m9LjQ7qN4F6Jp8KY4qF8N
    xQJZMdQ7qvN4F6KpQ7YvJdQ4K8m9LjQ7qN4F6Jp8KY4qF8NxQJZMdQ7qvN4F6KpQ
    7YvJdQ4K8m9LjQ7qN4F6Jp8KY4qF8NxQJZMdQwIDAQABo1AwTjAdBgNVHQ4EFgQU
    sF7F4m4mZvHYvN7bCJD4yqMpYdIwHwYDVR0jBBgwFoAUsF7F4m4mZvHYvN7bCJD4
    yqMpYdIwDAYDVR0TBAUwAwEB/zANBgkqhkiG9w0BAQsFAAOCAQEAuF7F4m4mZvHY
    vN7bCJD4yqMpYdJZkPqvHc9fhq8KTIBjQKJ4Y1vTZxIU7Ik0S6XKJYkYFp4qhJxQ
    X4LwvJN2A5xKZMdQtqzj7XqPqvNGGJP4S7Y0K8NxQ5XEKgH7+YvJdQ4K8m9LjQ7q
    -----END CERTIFICATE-----

  # Private key
  tls.key: |
    -----BEGIN PRIVATE KEY-----
    MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQC4XsXibiZm8di8
    3tsIkPjKoylh0lmQ+q8dz1+GrwpMgGNAonhjW9NnEhTsiTRLpcoliRgWniqEnFBf
    gvC8k3YDnEpkx1C2rOPteo+q80YYk/hLtjQrw3FDlcQqAfv5i8l1DgryQ7qN4F6J
    p8KY4qF8NxQJZMdQ7qvN4F6KpQ7YvJdQ4K8m9LjQ7qN4F6Jp8KY4qF8NxQJZMdQ7
    qvN4F6KpQ7YvJdQ4K8m9LjQ7qN4F6Jp8KY4qF8NxQJZMdQ7qvN4F6KpQ7YvJdQ4K
    8m9LjQ7qN4F6Jp8KY4qF8NxQJZMdQ7qvN4F6KpQ7YvJdQ4K8m9LjQ7qN4F6Jp8KY
    4qF8NxQJZMdQwIDAQABAoIBABQqgF7F4m4mZvHYvN7bCJD4yqMpYdJZkPqvHc9f
    hq8KTIBjQKJ4Y1vTZxIU7Ik0S6XKJYkYFp4qhJxQX4LwvJN2A5xKZMdQtqzj7XqP
    qvNGGJP4S7Y0K8NxQ5XEKgH7+YvJdQ4K8m9LjQ7qN4F6Jp8KY4qF8NxQJZMdQ7qv
    -----END PRIVATE KEY-----

# How to Create Real TLS Secrets:
# -------------------------------
# 1. Generate self-signed certificate (for testing):
#    openssl req -x509 -nodes -days 365 -newkey rsa:2048 \
#      -keyout tls.key -out tls.crt -subj "/CN=secure.local"
#
# 2. Create secret from files:
#    kubectl create secret tls tls-secret \
#      --cert=tls.crt --key=tls.key
#
# 3. Production (Let's Encrypt with cert-manager):
#    # Install cert-manager
#    kubectl apply -f https://github.com/cert-manager/cert-manager/releases/download/v1.13.0/cert-manager.yaml
#
#    # Create ClusterIssuer
#    apiVersion: cert-manager.io/v1
#    kind: ClusterIssuer
#    metadata:
#      name: letsencrypt-prod
#    spec:
#      acme:
#        server: https://acme-v02.api.letsencrypt.org/directory
#        email: your-email@example.com
#        privateKeySecretRef:
#          name: letsencrypt-prod
#        solvers:
#        - http01:
#            ingress:
#              class: nginx
#
#    # Reference in Ingress annotations:
#    annotations:
#      cert-manager.io/cluster-issuer: "letsencrypt-prod"
#
# Secret Type:
# -----------
# type: kubernetes.io/tls
#   - Special type for TLS certificates
#   - Must have two keys: tls.crt and tls.key
#   - Used by Ingress for SSL/TLS termination
#
# Field Explanations:
# ------------------
# tls.crt - Public certificate (X.509)
#   - Contains public key
#   - Can be shared publicly
#   - Sent to clients during TLS handshake
#
# tls.key - Private key
#   - Must be kept secret
#   - Used to decrypt traffic
#   - Never share or commit to git!
#
# Certificate Contents:
# --------------------
# Subject: Who the certificate is for (CN=secure.local)
# Issuer: Who signed the certificate (self-signed)
# Validity: Start and end dates
# Public Key: Used for encryption
# Signature: Proves certificate authenticity
#
# Warning:
# -------
# This is a SAMPLE self-signed certificate for demonstration only!
# Browsers will show security warnings
# For production, use certificates from a trusted CA
