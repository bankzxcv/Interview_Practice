# 01-serviceaccount.yaml
# Basic ServiceAccount creation
apiVersion: v1
kind: ServiceAccount
metadata:
  name: app-reader
  namespace: rbac-demo
  labels:
    app: rbac-demo
    role: reader
---
# ServiceAccount with auto-mount disabled
apiVersion: v1
kind: ServiceAccount
metadata:
  name: no-token-sa
  namespace: rbac-demo
  labels:
    app: rbac-demo
    role: no-token
# Disable automatic mounting of service account token
automountServiceAccountToken: false
---
# ServiceAccount with image pull secrets
apiVersion: v1
kind: Secret
metadata:
  name: docker-registry-secret
  namespace: rbac-demo
type: kubernetes.io/dockerconfigjson
data:
  .dockerconfigjson: eyJhdXRocyI6eyJodHRwczovL2luZGV4LmRvY2tlci5pby92MS8iOnsidXNlcm5hbWUiOiJteXVzZXIiLCJwYXNzd29yZCI6Im15cGFzc3dvcmQiLCJhdXRoIjoiYlhsMWMyVnlPbTE1Y0dGemMzZHZjbVE9In19fQ==
---
apiVersion: v1
kind: ServiceAccount
metadata:
  name: app-with-registry
  namespace: rbac-demo
  labels:
    app: rbac-demo
imagePullSecrets:
- name: docker-registry-secret
